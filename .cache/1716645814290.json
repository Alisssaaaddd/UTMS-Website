{"date":"2024-05-25T14:03:32.942Z","courseId":"17","assignment":"AP-Spring03-CA6","trace":{"version":85,"content":"#include \"../includes/delete.hpp\"\n\nDelete::Delete() : Method() {\n\n}\n\nDelete::~Delete(){\n\n}\n\nvoid Delete::identify_command(string line, vector<User *> &users, User *&currentUser, int &lessonID_,\n                            vector<Lesson *> &lessons, vector<Course *> &courses, vector<Major *> &majors)\n{\n    istringstream iss(line);\n    string command;\n    iss >> command;\n    size_t i = line.find(\"?\");\n    if (i != string::npos)\n    {\n        line = line.substr(i + 2);\n    }\n\n    else\n    {\n        throw BadRequest();\n    }\n\n    istringstream iss2(line);\n    if (command == \"post\")\n    {\n        Argument id;\n        Argument password;\n        string title;\n        string key;\n        string end;\n        iss2 >> title;\n\n        if (title == \"id\")\n        {\n            iss2 >> key;\n            id.title = title;\n            id.key = key;\n\n            iss2 >> title;\n            password.title = title;\n            iss2 >> key;\n            password.key = key;\n\n            iss2 >> end;\n            if (end != EMPTY)\n                throw BadRequest();\n        }\n\n        else if (title == \"password\")\n        {\n            iss2 >> key;\n            password.title = title;\n            password.key = key;\n\n            iss2 >> title;\n            id.title = title;\n            iss2 >> key;\n            id.key = key;\n\n            iss2 >> end;\n            if (end != EMPTY)\n                throw BadRequest();\n        }\n\n        else\n        {\n            throw BadRequest();\n        }\n\n    }\n\n    else if (command == \"my_courses\")\n    {\n\n    }\n\n    else if (command == \"post\")\n    {\n        PostStruct post;\n        string title1;\n        iss2 >> title1;\n\n        if (title1 == \"title\")\n        {\n            size_t i = line.find(DOUNLE_QUOTATION);\n            line = line.substr(i + 1);\n            cout << \"line Jadid: \" << line << endl;\n            istringstream iss3(line);\n            string temp;\n            getline(iss3, temp, DOUNLE_QUOTATION);\n            post.title = temp;\n            i = line.find(DOUNLE_QUOTATION);\n            line = line.substr(i + 1);\n\n            istringstream iss4(line);\n            iss4 >> temp;\n            if (temp == \"message\")\n            {\n                i = line.find(DOUNLE_QUOTATION);\n                line = line.substr(i + 1);\n                cout << \"line Jadid: \" << line << endl;\n                istringstream iss5(line);\n                getline(iss5, temp, DOUNLE_QUOTATION);\n                post.message = temp;\n            }\n            else\n            {\n                throw BadRequest();\n            }\n        }\n\n        else if (title1 == \"message\")\n        {\n            size_t i = line.find(DOUNLE_QUOTATION);\n            line = line.substr(i + 1);\n            istringstream iss3(line);\n            string temp;\n            getline(iss3, temp, DOUNLE_QUOTATION);\n            post.message = temp;\n            i = line.find(DOUNLE_QUOTATION);\n            line = line.substr(i + 1);\n\n            istringstream iss4(line);\n            iss4 >> temp;\n            if (temp == \"title\")\n            {\n                i = line.find(DOUNLE_QUOTATION);\n                line = line.substr(i + 1);\n                istringstream iss5(line);\n                getline(iss5, temp, DOUNLE_QUOTATION);\n                post.title = temp;\n            }\n            else\n            {\n                throw BadRequest();\n            }\n        }\n\n        else\n        {\n            throw BadRequest();\n        }\n\n        post.id = currentUser->get_postID();\n        currentUser->add_post(post);\n        cout << \"OK\" << endl;\n        cout << post.id << \" \" << post.title << \" \" << post.message << endl;\n    }\n\n    else\n    {\n        throw Absence();\n    }\n}\n\n","filename":"/home/ali3ad3ghi/project6-f1/UTMS-Website/src/delete.cpp","identifier":"Text Change","lineCount":161,"languageId":"cpp"},"failed":false}